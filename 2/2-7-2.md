# shutdown

2.7.2	shutdown
功能：
	shutdown命令安全地将系统关机。有些用户会使用直接断掉电源的方式来关闭linux，这是十分危险的。因为linux与windows不同，其后台运行着许多进程，所以强制关机可能会导致进程的数据丢失，使系统处于不稳定的状态，甚至在有的系统中会损坏硬件设备。
	而在系统关机前使用shutdown命令，系统管理员会通知所有登录的用户系统将要关闭。并且login指令会被冻结，即新的用户不能再登录。直接关机或者延迟一定的时间才关机都是可能的，还可能重启。这是由所有进程〔process〕都会收到系统所送达的信号〔signal〕决定的。这让像vi之类的程序有时间储存目前正在编辑的文档，而像处理邮件〔mail〕和新闻〔news〕的程序则可以正常地离开等等。
	简单地说shutdown执行它的工作是送信号〔signal〕给init程序，要求它改变runlevel。
shutdown参数说明:
[-t]在改变到其它runlevel之前，告诉init多久以后关机。
[-r]重启计算器。
[-k]并不真正关机，只是送警告信号给每位登录者〔login〕。
[-h]关机后关闭电源〔halt〕。
[-n]不用init，而是自己来关机。不鼓励使用这个选项，而且该选项所产生的后果往往不总是你所预期得到的。
[-c]cancelcurrentprocess取消目前正在执行的关机程序。所以这个选项当然没有时间参数，但是可以输入一个用来解释的讯息，而这信息将会送到每位使用者。
[-f]在重启计算机〔reboot〕时忽略fsck。[-time]设定关机〔shutdown〕前的时间。
[-F]在重启计算器〔reboot〕时强迫fsck。
注：
	要想了解在停机〔halt〕或者重新开机〔reboot〕过程中做了哪些动作，你可以在文件/etc/inittab里看到runlevels相关的资料。
	fsck（filesystemcheck）用来检查和维护不一致的文件系统。若系统掉电或磁盘发生问题，可利用fsck命令对文件系统进行检查。
